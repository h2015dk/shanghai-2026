<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸Šæµ·åŠ©æ‰‹ V22 - å°èˆªèˆ‡æ‹†åˆ†ç‰ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --zhusha-red: #B22222; --paper-white: #F4F1E1; }
        body { font-family: "PingFang TC", sans-serif; background-color: var(--paper-white); margin: 0; padding-bottom: 80px; }
        .app-card { background: rgba(255, 255, 255, 0.95); border: 1px solid #D4C5A2; margin-bottom: 10px; border-radius: 8px; overflow: hidden; transition: 0.3s; }
        .nav-fixed { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 1px solid #ddd; display: flex; justify-content: space-around; padding: 10px; z-index: 100; }
        .time-tag { font-size: 11px; color: #B22222; font-weight: bold; background: #FFF0F0; padding: 2px 6px; border-radius: 4px; }
        .recomm-box { background: #F9F7F0; border: 1px dashed #D4C5A2; padding: 10px; margin-top: 10px; border-radius: 6px; font-size: 12px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div id="schedule-tab">
        <header class="p-6 bg-[#B22222] text-white sticky top-0 z-50 shadow-md">
            <h1 class="text-xl font-bold">ä¸Šæµ·è¡Œç¨‹ (07/04 - 07/08)</h1>
            <p class="text-xs opacity-80">é»æ“Šç®­é ­é–‹å•Ÿé«˜å¾·åœ°åœ–å°èˆª</p>
        </header>

        <main class="p-4" id="main-content"></main>
    </div>

    <div id="budget-tab" class="hidden p-6">
        <h2 class="text-2xl font-bold mb-4">ğŸ’° ç›¤çºè¨˜å¸³</h2>
        <div class="bg-white p-4 rounded-lg shadow border border-gray-200">
            <p class="text-sm text-gray-500 mb-2">å‰©é¤˜é ç®—</p>
            <p class="text-3xl font-black text-green-600">Â¥ 4,500.00</p>
            <div class="mt-4 space-y-2">
                <input type="number" placeholder="è¼¸å…¥é‡‘é¡" class="w-full border p-2 rounded">
                <input type="text" placeholder="æ”¯å‡ºç”¨é€”" class="w-full border p-2 rounded">
                <button class="w-full bg-black text-white py-2 rounded">è¨˜éŒ„ä¸€ç­†</button>
            </div>
        </div>
    </div>

    <nav class="nav-fixed">
        <button onclick="showTab('schedule')" id="btn-sch" class="text-red-800 flex flex-col items-center">
            <i class="fas fa-scroll text-xl"></i><span class="text-[10px] font-bold">è¡Œç¨‹å°èˆª</span>
        </button>
        <button onclick="showTab('budget')" id="btn-bud" class="text-gray-400 flex flex-col items-center">
            <i class="fas fa-wallet text-xl"></i><span class="text-[10px] font-bold">ç›¤çºè¨˜å¸³</span>
        </button>
    </nav>

    <script>
        const schedules = {
            "07/04": [
                { title: "ä¸Šæµ·è™¹æ©‹ç«™", type: "station", note: "æ©Ÿå ´æŠµèˆª" },
                { title: "ä¸Šæµ·è™¹æ©‹å•†å‹™å€å‡±æ‚…å˜‰å¯“é£¯åº—", type: "hotel", note: "æ™šä¸Šä¼‘æ¯" }
            ],
            "07/05": [
                { title: "ä¸Šæµ·è™¹æ©‹å•†å‹™å€å‡±æ‚…å˜‰å¯“é£¯åº—", type: "hotel", note: "è¨˜å¾— Check-out" },
                { title: "è™¹æ©‹ç«è»Šç«™", type: "station", note: "æ­è»Šå‰å¾€æœ±å®¶è§’" },
                { title: "æœ±å®¶è§’è»Šç«™", type: "station", note: "ä¸‹åˆæŠµé”" },
                { title: "é©¢è‚‰ç«ç‡’", type: "food", note: "å®µå¤œå°èˆª" },
                { title: "è¯èˆ’é€¸é£¯åº—ï¼ˆæœ±å®¶è§’å¤é®åº—ï¼‰", type: "hotel", note: "ä½å®¿åœ°é»" }
            ],
            "07/06": [
                { title: "éœå®‰å¯ºè»Šç«™", type: "station", note: "å‰å¾€éœå®‰å¯º" },
                { title: "æ»¬è¥¿è€å¼„å ‚éºµé¤¨", type: "food", time: "10:00-15:00" },
                { title: "å®‰ç¦è·¯", type: "spot" },
                { title: "ç”°å­åŠ", type: "spot" },
                { title: "ä¸Šæµ·åŸéšå»Ÿ", type: "spot", time: "08:30-16:30" },
                { title: "è±«åœ’", type: "spot", note: "æ±Ÿå—åœ’æ—" },
                { title: "å°æ¥Šç”Ÿç…", type: "food", note: "å®µå¤œå°èˆª" },
                { title: "å¹¾æœ¨ç­±ç¯‰é£¯åº—ï¼ˆä¸Šæµ·éœå®‰å¯ºåº—ï¼‰", type: "hotel" }
            ],
            "07/07": [
                { title: "æ˜Ÿå·´å…‹è‡»é¸(ä¸Šæµ·çƒ˜ç„™å·¥åŠ)", type: "food" },
                { title: "ä¸Šæµ·å››è¡Œå€‰åº«æŠ—æˆ°ç´€å¿µé¤¨", type: "spot" },
                { title: "å—äº¬è·¯æ­¥è¡Œè¡—", type: "spot" },
                { title: "èŸ¹åå¯³Â·èŸ¹å®¶å®´Â·èŸ¹é»ƒæ’ˆé£¯", type: "food" },
                { title: "å¤–ç˜", type: "spot" },
                { title: "æœµé›²æ›¸é™¢Â·æ——è‰¦åº—", type: "spot" },
                { title: "èŠèŠæ¹¯åŒ…", type: "food", note: "å®µå¤œå°èˆª" },
                { title: "å¹¾æœ¨ç­±ç¯‰é£¯åº—ï¼ˆä¸Šæµ·éœå®‰å¯ºåº—ï¼‰", type: "hotel" }
            ],
            "07/08": [
                { title: "å¹¾æœ¨ç­±ç¯‰é£¯åº—ï¼ˆä¸Šæµ·éœå®‰å¯ºåº—ï¼‰", type: "hotel" },
                { title: "éœå®‰å¯ºè»Šç«™", type: "station", note: "å‰å¾€è™¹æ©‹" },
                { title: "å¥¶å¥¶çš„å‘³é“(è† å·è·¯åº—)", type: "food" },
                { title: "ä¸Šæµ·è™¹æ©‹æ©Ÿå ´", type: "station", note: "è¿”å°èˆªç­" }
            ]
        };

        const RECOMMEND_DB = {
            "hotel": ["å‘¨é‚Šä¾¿åˆ©åº—åˆ—è¡¨", "24H è—¥å±€å°èˆª", "é£¯åº—è‡ªåŠ©æ—©é¤å»ºè­°"],
            "station": ["è™¹æ©‹ç«™å…§å¿…åƒç‚¸è±¬æ’", "æœ±å®¶è§’å¤é®ç‰¹è‰²è‚‰ç²½", "éœå®‰å¯ºå‘¨é‚Šé»å¿ƒæ’éšŠåº—"]
        };

        function render() {
            const main = document.getElementById('main-content');
            main.innerHTML = '';
            
            Object.keys(schedules).forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = "text-sm font-bold text-gray-400 mt-6 mb-2 border-b";
                dayHeader.innerText = `ğŸ—“ï¸ ${day}`;
                main.appendChild(dayHeader);

                schedules[day].forEach(item => {
                    const card = document.createElement('div');
                    card.className = "app-card p-4 flex flex-col";
                    
                    let recommHtml = '';
                    // è¦å‰‡1ï¼šåªæœ‰é£¯åº—èˆ‡è»Šç«™æœ‰æ¨è–¦
                    if (item.type === 'hotel' || item.type === 'station') {
                        const list = RECOMMEND_DB[item.type];
                        recommHtml = `
                            <div class="recomm-box">
                                <b class="text-red-800">ğŸ’¡ AI å»ºè­°è¡Œç¨‹ï¼š</b>
                                <ul class="list-disc ml-4 mt-1">
                                    ${list.map(l => `<li>${l}</li>`).join('')}
                                </ul>
                            </div>`;
                    }

                    card.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div>
                                <span class="text-[10px] bg-gray-100 px-2 py-0.5 rounded text-gray-500 uppercase">${item.type}</span>
                                <h3 class="font-bold text-lg mt-1">${item.title}</h3>
                                ${item.time ? `<span class="time-tag"><i class="far fa-clock"></i> ${item.time}</span>` : ''}
                                ${item.note ? `<p class="text-xs text-gray-400 mt-1">${item.note}</p>` : ''}
                            </div>
                            <button onclick="goAmap('${item.title}')" class="bg-red-50 text-red-800 w-10 h-10 rounded-full flex items-center justify-center active:bg-red-200">
                                <i class="fas fa-location-arrow"></i>
                            </button>
                        </div>
                        ${recommHtml}
                    `;
                    main.appendChild(card);
                });
            });
        }

        function goAmap(k) { window.location.href = `amapuri://route/plan/?dname=${encodeURIComponent(k)}&dev=0&t=1`; }

        function showTab(tab) {
            const schTab = document.getElementById('schedule-tab');
            const budTab = document.getElementById('budget-tab');
            const btnSch = document.getElementById('btn-sch');
            const btnBud = document.getElementById('btn-bud');

            if (tab === 'schedule') {
                schTab.classList.remove('hidden');
                budTab.classList.add('hidden');
                btnSch.classList.add('text-red-800'); btnSch.classList.remove('text-gray-400');
                btnBud.classList.add('text-gray-400'); btnBud.classList.remove('text-red-800');
            } else {
                schTab.classList.add('hidden');
                budTab.classList.remove('hidden');
                btnBud.classList.add('text-red-800'); btnBud.classList.remove('text-gray-400');
                btnSch.classList.add('text-gray-400'); btnSch.classList.remove('text-red-800');
            }
        }

        window.onload = render;
    </script>
</body>
</html>
